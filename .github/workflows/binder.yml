name: binder

on: [push]

# This job builds and caches the Docker image for binder on their infrastructure
jobs:
  Serve-binder-cache:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3

    # cache for binder
    - name: cache binder build on mybinder.org
      # replace tschm with jupyterhub once my pending pull request has been accepted,
      # see https://github.com/jupyterhub/repo2docker-action/pull/100
      uses: tschm/repo2docker-action@master
      with:
        NO_PUSH: true
        MYBINDERORG_TAG: ${{ github.event.ref }}
